import { Selector } from 'testcafe';

fixture `Checkout_Flow`
    .page `localhost:3000`;

test('New Test 1', async t => {
    await t
        .click(Selector('a').withText('REGISTER'))
        .typeText(Selector('.sc-kPVwWT.hAklSC[name="firstName"]'), 'Test')
        .pressKey('tab')
        .typeText(Selector('.sc-kPVwWT.hAklSC[name="lastName"]'), 'Test')
        .pressKey('tab')
        .click(Selector('.sc-esjQYD.bZYylg').nth(0))
        .typeText(Selector('.sc-kPVwWT.hAklSC[name="email"]'), 'test@ku.th')
        .pressKey('tab')
        .typeText(Selector('.sc-kPVwWT.hAklSC[name="password"]'), '123456')
        .typeText(Selector('.sc-kPVwWT.hAklSC[name="password2"]'), '123456')
        .click(Selector('.sc-dfVpRl.chREDL'))
        .click(Selector('button').withText('Sign Up'))
        .click(Selector('.sc-jWBwVP.jphukP'))
        .typeText(Selector('.sc-bxivhb.fVdtmn').find('[name="username"]'), 'test@ku.th')
        .pressKey('tab')
        .typeText(Selector('.sc-bxivhb.fVdtmn').find('[name="password"]'), '123456')
        .click(Selector('button').withText('Login'))
        .click(Selector('a').withText('CATALOG'))
        .click(Selector('.img-fluid.sc-jhAzac.ciOqiW').find('a').withText('SHOP NOW'))
        .click(Selector('button').withText('ADD TO CART'))
        .click(Selector('.img-fluid.sc-jhAzac.klYHsp').find('a').withText('SHOP NOW'))
        .click(Selector('.btn.btn-outline-dark.sc-cIShpX.kaKjPk'))
        .click(Selector('button').withText('ADD TO CART'))
        .click(Selector('.sc-eHgmQL.DPTOu').find('div').withText('CART'))
        .click(Selector('button').withText('CHECK OUT'))
        .typeText(Selector('.sc-hMFtBS.bHhjJY[name="name"]'), 'Test')
        .typeText(Selector('.sc-cLQEGU.bqcucS[name="address"]'), 'Test Address')
        .pressKey('tab')
        .typeText(Selector('.sc-hMFtBS.bHhjJY[name="district"]'), 'Tetst District')
        .pressKey('backspace tab')
        .typeText(Selector('.sc-hMFtBS.bHhjJY[name="country"]'), 'Test')
        .pressKey('tab')
        .typeText(Selector('.sc-hMFtBS.bHhjJY[name="postalCode"]'), '123456')
        .typeText(Selector('.sc-hMFtBS.bHhjJY[name="contact"]'), '0999999999')
        .click(Selector('button').withText('CONTINUE TO PAYMENT METHOD'))
        .click(Selector('.m-1').nth(0))
        .click(Selector('.m-1').find('.mr-1'))
        .typeText(Selector('.sc-cmthru.fuyTzL').find('.sc-hMFtBS.bHhjJY'), '1234562342323')
        .typeText(Selector('div').withText('Card Holder Number').nth(5).find('.sc-hMFtBS.bHhjJY'), '12312313')
        .typeText(Selector('div').withText('MM').nth(5).find('.sc-hMFtBS.bHhjJY'), '01/21')
        .pressKey('tab')
        .typeText(Selector('div').withText('CVV').nth(5).find('.sc-hMFtBS.bHhjJY'), '123')
        .click(Selector('button').withText('CONTINUE TO CONFIRMATION'))
        .typeText(Selector('#card').find('[name="number"]'), '123123123123123123')
        .click(Selector('.sc-cMhqgX.hNSrKe'))
        .typeText(Selector('#card').find('[name="holder_name"]'), 'Tse')
        .pressKey('backspace')
        .typeText(Selector('#card').find('[name="holder_name"]'), 'ets')
        .pressKey('backspace tab')
        .typeText(Selector('#card').find('[name="expiration"]'), '12/21')
        .pressKey('tab');
});